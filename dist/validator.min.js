/*! Validator constructor function for easy data validation - v0.2.1 - 2013-02-05
* https://github.com/skaterdav85/Validator
* Copyright (c) 2013 ; Licensed  */
(function(e){var t={required:"The :attribute field is required.",email:"The :attribute format is invalid.",def:"The :attribute attribute has errors.",min:{numeric:"The :attribute must be at least :min.",string:"The :attribute must be at least :min characters."},max:{numeric:"The :attribute must be less than :max.",string:"The :attribute must be less than :max characters."},size:{numeric:"The :attribute must be :size.",string:"The :attribute must be :size characters."},numeric:"The :attribute must be a number."},n=function(e,t){this.rules=t,this.input=e,this.errors={},this.errorCount=0,this.check()};n.prototype={constructor:n,_createMessage:function(e,t){var n,r;if(typeof e=="string"&&typeof t=="object"){n=e;for(r in t)t.hasOwnProperty(r)&&(n=n.replace(":"+r,t[r]))}else n=e.replace(/:attribute/,t);return n},check:function(){var e,n,r,i,s,o,u,a,f,l,c;for(e in this.input)if(this.input.hasOwnProperty(e)){n=this.input[e];if(this.rules.hasOwnProperty(e)){r=this.rules[e].split("|"),i=r.length;for(s=0;s<i;s++){o=r[s],c=[],o.indexOf(":")>=0&&(o=o.split(":")),o instanceof Array?(u=parseFloat(o[1]),o=o[0],a=this.validate[o](n,u)):(u=null,a=this.validate[o](n));if(!a){this.errors.hasOwnProperty(e)||(this.errors[e]=[]);if(t.hasOwnProperty(o)){l=t[o];if(typeof l=="object"){switch(typeof n){case"number":l=l.numeric;break;case"string":l=l.string}c.attribute=e,c[o]=u,f=this._createMessage(l,c)}else f=this._createMessage(l,e)}else l=t.def,f=this._createMessage(l,e);this.errors[e].push(f),this.errorCount++}}}}},passes:function(){return this.errorCount===0?!0:!1},fails:function(){return this.errorCount>0?!0:!1},first:function(e){return this.errors.hasOwnProperty(e)?this.errors[e][0]:null},validate:{required:function(e){return String(e).length>0?!0:!1},size:function(e,t){return typeof e=="number"?e===t?!0:!1:e.length===t?!0:!1},min:function(e,t){return typeof e=="number"?e>=t?!0:!1:e.length>=t?!0:!1},max:function(e,t){return typeof e=="number"?e<=t?!0:!1:e.length<=t?!0:!1},email:function(e){var t=e.indexOf("@"),n=e.indexOf(".",t+2);return t!==-1&&n!==-1?!0:!1},numeric:function(e){var t=Number(e);return typeof t=="number"&&!isNaN(t)&&typeof e!="boolean"?!0:!1}}},e.Validator=n})(typeof exports=="undefined"?window:exports);